<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unit Tests &mdash; ThingSet C/C++ Library  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Library API" href="../api/library.html" />
    <link rel="prev" title="Library Usage" href="usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #52595d" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ThingSet C/C++ Library
              <img src="../../_static/thingset_logo_white.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v0.5

              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../features.html#text-mode">Text mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#binary-mode">Binary mode</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Library Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#example-programs">Example Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#basic-c-code-snippet">Basic C++ code snippet</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Unit Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#platformio">PlatformIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zephyr-rtos">Zephyr RTOS</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/library.html">Library API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/internal.html">Internal</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/internal.html#json-jsmn">JSON (JSMN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/internal.html#cbor">CBOR</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #52595d" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ThingSet C/C++ Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Unit Tests</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ThingSet/thingset-device-library/blob/main/docs/src/dev/unit_tests.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="unit-tests">
<h1>Unit Tests<a class="headerlink" href="#unit-tests" title="Permalink to this heading"></a></h1>
<p>The library contains an extensive set of unit tests to validate that the specification is
implemented correctly.</p>
<p>The tests can either be run using PlatformIO or with Zephyr for the native POSIX board.</p>
<section id="platformio">
<h2>PlatformIO<a class="headerlink" href="#platformio" title="Permalink to this heading"></a></h2>
<p>The tests are implemented using the UNITY environment integrated in PlatformIO. The tests can be
run on the device and in the native environment of the computer. For native (and more quick) tests
run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pio<span class="w"> </span><span class="nb">test</span><span class="w"> </span>-e<span class="w"> </span>native-std
</pre></div>
</div>
<p>The test in native environment is also set as the default unit-test, so it is run if you push the
test button in PlatformIO.</p>
<p>To run the unit tests on the device, execute the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pio<span class="w"> </span><span class="nb">test</span><span class="w"> </span>-e<span class="w"> </span>device-std<span class="w"> </span>-e<span class="w"> </span>device-newlib-nano
</pre></div>
</div>
</section>
<section id="zephyr-rtos">
<h2>Zephyr RTOS<a class="headerlink" href="#zephyr-rtos" title="Permalink to this heading"></a></h2>
<p>In order to run the tests with Zephyr, a wrapper for the UNITY test functions was implemented.</p>
<p>Build and run the tests with the following command from the root directory of the library:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>west<span class="w"> </span>build<span class="w"> </span>zephyr/tests<span class="w"> </span>-t<span class="w"> </span>run
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage.html" class="btn btn-neutral float-left" title="Library Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api/library.html" class="btn btn-neutral float-right" title="Library API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 The ThingSet Project Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>